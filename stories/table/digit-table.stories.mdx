import { Fragment, useState, useMemo } from "react";
import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import { DigitTable, DigitProviders } from "../../src";
import DigitProvidersDecorator from "../../.storybook/DigitProvidersDecorator";

<Meta
    title="Display data/DigitTable"
    component={DigitTable}
/>

# DigitTable

Table is a great way of displaying and filtering large amount of data. It's however not so kind for the phone user. `DigitList` could in some cases maybe be better for those scenarios. 

## Simple table

<Preview>
    <Story name="simple table">
        <DigitTable
            titleText="Humans"
            idProp="id"
            startOrderBy="firstName"
            columnsOrder={["id", "firstName", "lastName", "age"]}
            headerTexts={{
                id: "Id",
                firstName: "First name",
                lastName: "Last name",
                age: "Age"
            }}
            data={[
                    {
                        id: "1337",
                        firstName: "Asdf",
                        lastName: "Asdfsson",
                        age: 33
                    },
                    {
                        id: "4444",
                        firstName: "Glass",
                        lastName: "Glasssson",
                        age: 50
                    },
                    {
                        id: "4324",
                        firstName: "Jeremy",
                        lastName: "Clarkson",
                        age: 50
                    },
                    {
                        id: "1234",
                        firstName: "James",
                        lastName: "May",
                        age: 99
                    },
                    {
                        id: "4321",
                        firstName: "Richard",
                        lastName: "Hammond",
                        age: 18
                    },
                    {
                        id: "9999",
                        firstName: "The",
                        lastName: "Stig",
                        age: 55
                    },
                    {
                        id: "2244",
                        firstName: "Henrik",
                        lastName: "Lundqvist",
                        age: 30
                    }
            ]}
        />
    </Story>
</Preview>

## Table with search

<Preview>
    <Story name="table with search">
        <DigitTable
            titleText="Humans"
            search
            searchText="Search for a human"
            idProp="id"
            startOrderBy="firstName"
            columnsOrder={["id", "firstName", "lastName", "age"]}
            headerTexts={{
                id: "Id",
                firstName: "First name",
                lastName: "Last name",
                age: "Age"
            }}
            data={[
                    {
                        id: "1337",
                        firstName: "Asdf",
                        lastName: "Asdfsson",
                        age: 33
                    },
                    {
                        id: "4444",
                        firstName: "Glass",
                        lastName: "Glasssson",
                        age: 50
                    },
                    {
                        id: "4324",
                        firstName: "Jeremy",
                        lastName: "Clarkson",
                        age: 50
                    },
                    {
                        id: "1234",
                        firstName: "James",
                        lastName: "May",
                        age: 99
                    },
                    {
                        id: "4321",
                        firstName: "Richard",
                        lastName: "Hammond",
                        age: 18
                    },
                    {
                        id: "9999",
                        firstName: "The",
                        lastName: "Stig",
                        age: 55
                    },
                    {
                        id: "2244",
                        firstName: "Henrik",
                        lastName: "Lundqvist",
                        age: 30
                    }
            ]}
        />
    </Story>
</Preview>

## Table with details buttons

<Preview>
    <Story name="table with details buttons">
        <DigitTable
            titleText="Humans"
            search
            searchText="Search for a human"
            idProp="id"
            startOrderBy="firstName"
            columnsOrder={["id", "firstName", "lastName", "age"]}
            headerTexts={{
                id: "Id",
                firstName: "First name",
                lastName: "Last name",
                age: "Age",
                __link: "Details"
            }}
            data={[
                    {
                        id: "1337",
                        firstName: "Asdf",
                        lastName: "Asdfsson",
                        age: 33,
                        __link: "/1337"
                    },
                    {
                        id: "4444",
                        firstName: "Glass",
                        lastName: "Glasssson",
                        age: 50,
                        __link: "/4444"
                    },
                    {
                        id: "4324",
                        firstName: "Jeremy",
                        lastName: "Clarkson",
                        age: 50
                    },
                    {
                        id: "1234",
                        firstName: "James",
                        lastName: "May",
                        age: 99
                    },
                    {
                        id: "4321",
                        firstName: "Richard",
                        lastName: "Hammond",
                        age: 18
                    },
                    {
                        id: "9999",
                        firstName: "The",
                        lastName: "Stig",
                        age: 55,
                        __link: "/9999"
                    },
                    {
                        id: "2244",
                        firstName: "Henrik",
                        lastName: "Lundqvist",
                        age: 30
                    }
            ]}
        />
    </Story>
</Preview>

## Dense table

<Preview>
    <Story name="dense table">
        <DigitTable
            titleText="Humans"
            search
            searchText="Search for a human"
            idProp="id"
            startOrderBy="firstName"
            columnsOrder={["id", "firstName", "lastName", "age"]}
            headerTexts={{
                id: "Id",
                firstName: "First name",
                lastName: "Last name",
                age: "Age",
            }}
            dense
            data={[
                    {
                        id: "1337",
                        firstName: "Asdf",
                        lastName: "Asdfsson",
                        age: 33,
                    },
                    {
                        id: "4444",
                        firstName: "Glass",
                        lastName: "Glasssson",
                        age: 50,
                    },
                    {
                        id: "4324",
                        firstName: "Jeremy",
                        lastName: "Clarkson",
                        age: 50
                    },
                    {
                        id: "1234",
                        firstName: "James",
                        lastName: "May",
                        age: 99
                    },
                    {
                        id: "4321",
                        firstName: "Richard",
                        lastName: "Hammond",
                        age: 18
                    },
                    {
                        id: "9999",
                        firstName: "The",
                        lastName: "Stig",
                        age: 55,
                    },
                    {
                        id: "2244",
                        firstName: "Henrik",
                        lastName: "Lundqvist",
                        age: 30
                    }
            ]}
        />
    </Story>
</Preview>

## Large table

<Preview>
    <Story name="large table">
        {() => {
            const data = useMemo(() => {
                const firstNames = ["Adam", "Anders", "Alf", "Amanda", "Anna"];
                const lastNames = ["Adamsson", "Andersson", "Alfsson", "Amandadotter", "Annadotter"]
                const output = [];
                for(let i = 0; i < 500; i++){
                    output.push({
                        id: Math.random() + "",
                        firstName: firstNames[Math.floor(Math.random() * 4)],
                        lastName: lastNames[Math.floor(Math.random() * 4)],
                        age: Math.random() * 90
                    })
                }
                return output;
            })
            return (
                <DigitTable
                    titleText="Humans"
                    idProp="id"
                    startOrderBy="id"
                    columnsOrder={["id", "firstName", "lastName", "age"]}
                    headerTexts={{
                        id: "Id",
                        firstName: "First name",
                        lastName: "Last name",
                        age: "Age"
                    }}
                    data={data}
                    search
                />
            );
        }}
    </Story>
</Preview>

## Empty table

<Preview>
    <Story name="empty table">
        <DigitTable
            titleText="Humans"
            idProp="id"
            startOrderBy="firstName"
            columnsOrder={["id", "firstName", "lastName", "age"]}
            headerTexts={{
                id: "Id",
                firstName: "First name",
                lastName: "Last name",
                age: "Age",
                __link: "Details"
            }}
            data={[]}
            emptyTableText="Empty table :("
        />
    </Story>
</Preview>

## Table with back button

Sometimes it's nice to have a back button.

<Preview>
    <Story name="table with back button">
        <DigitTable
            backButton
            titleText="Humans"
            search
            searchText="Search for a human"
            idProp="id"
            startOrderBy="firstName"
            columnsOrder={["id", "firstName", "lastName", "age"]}
            headerTexts={{
                id: "Id",
                firstName: "First name",
                lastName: "Last name",
                age: "Age"
            }}
            data={[
                    {
                        id: "1337",
                        firstName: "Asdf",
                        lastName: "Asdfsson",
                        age: 33
                    },
                    {
                        id: "4444",
                        firstName: "Glass",
                        lastName: "Glasssson",
                        age: 50
                    },
                    {
                        id: "4324",
                        firstName: "Jeremy",
                        lastName: "Clarkson",
                        age: 50
                    },
                    {
                        id: "1234",
                        firstName: "James",
                        lastName: "May",
                        age: 99
                    },
                    {
                        id: "4321",
                        firstName: "Richard",
                        lastName: "Hammond",
                        age: 18
                    },
                    {
                        id: "9999",
                        firstName: "The",
                        lastName: "Stig",
                        age: 55
                    },
                    {
                        id: "2244",
                        firstName: "Henrik",
                        lastName: "Lundqvist",
                        age: 30
                    }
            ]}
        />
    </Story>
</Preview>


<Props of={DigitTable} />
