import { Fragment, useState } from "react";
import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import {
    DigitTextField,
    DigitEditData,
    DigitLayout,
    DigitButton
} from "../../src";
import * as yup from "yup";

# DigitTextField

A input field for entering text.

<Meta title="Elements|DigitTextField" component={DigitTextField} />

## Flat text field

<Preview>
    <Story name="Flat text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    lowerLabel="Must be capitalized"
                />
            );
        }}
    </Story>
    <Story name="Disabled flat text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    disabled
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    lowerLabel="This is disabled"
                />
            );
        }}
    </Story>
    <Story name="Max length flat text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    maxLength={30}
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                />
            );
        }}
    </Story>
</Preview>

<Preview>
    <Story name="Password flat text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    password
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Password"
                />
            );
        }}
    </Story>
    <Story name="Numbers only flat text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    numbersOnly
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Number of things"
                />
            );
        }}
    </Story>
    <Story name="Error flat text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    error
                    errorMessage="Oh no"
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    lowerLabel="Enter your name"
                />
            );
        }}
    </Story>
</Preview>

## Outlined text field

<Preview>
    <Story name="Outlined text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    lowerLabel="Must be capitalized"
                    outlined
                />
            );
        }}
    </Story>
    <Story name="Disabled outlined text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    disabled
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    lowerLabel="This is disabled"
                    outlined
                />
            );
        }}
    </Story>
    <Story name="Max length outlined text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    maxLength={30}
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    outlined
                />
            );
        }}
    </Story>
</Preview>

<Preview>
    <Story name="Password outlined text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    password
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Password"
                    outlined
                />
            );
        }}
    </Story>
    <Story name="Numbers outlined text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    numbersOnly
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Number of things"
                    outlined
                />
            );
        }}
    </Story>
    <Story name="Error outlined text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    error
                    errorMessage="Oh no"
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    lowerLabel="Enter your name"
                    outlined
                />
            );
        }}
    </Story>
</Preview>

## Filled text field

<Preview>
    <Story name="Filled text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    lowerLabel="Must be capitalized"
                    filled
                />
            );
        }}
    </Story>
    <Story name="Disabled filled text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    disabled
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    lowerLabel="This is disabled"
                    filled
                />
            );
        }}
    </Story>
    <Story name="Max length filled text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    maxLength={30}
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    filled
                />
            );
        }}
    </Story>
</Preview>

<Preview>
    <Story name="Password filled text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    password
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Password"
                    filled
                />
            );
        }}
    </Story>
    <Story name="Numbers filled text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    numbersOnly
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Number of things"
                    filled
                />
            );
        }}
    </Story>
    <Story name="Error filled text field">
        {() => {
            const [text, setText] = useState("");
            return (
                <DigitTextField
                    error
                    errorMessage="Oh no"
                    value={text}
                    onChange={e => setText(e.target.value)}
                    upperLabel="Name"
                    lowerLabel="Enter your name"
                    filled
                />
            );
        }}
    </Story>
</Preview>

## How to use with DigitEditData

<Preview>
    <Story name="Text field with EditData">
        <DigitEditData
            hasButtons
            initialValues={{
                firstname: "",
                surname: "",
                email: ""
            }}
            onSubmit={(values, actions) => {
                console.log(values);
                actions.resetForm();
            }}
            validationSchema={yup.object().shape({
                firstname: yup.string().required(),
                surname: yup.string().required(),
                email: yup.string().required()
            })}
            titleText={"Title"}
            submitText={"Submit"}
            keysOrder={["firstname", "surname", "email"]}
            keysComponentData={{
                firstname: {
                    component: DigitTextField,
                    componentProps: {
                        upperLabel: "Firstname"
                    }
                },
                surname: {
                    component: DigitTextField,
                    componentProps: {
                        upperLabel: "Surname"
                    }
                },
                email: {
                    component: DigitTextField,
                    componentProps: {
                        upperLabel: "Email"
                    }
                }
            }}
            submitButton={{    
                text: "Skicka",
            }}
        />
    </Story>
</Preview>

<Props of={DigitTextField} />
